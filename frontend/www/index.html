<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8">
  <meta content="telephone=no" name="format-detection">
  <meta content="no" name="msapplication-tap-highlight">
  <meta content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" name="viewport">
  <!--<meta http-equiv="Content-Security-Policy" content="default-src *; gap: https://maps.googleapis.com" />-->
  <meta content="" http-equiv="Content-Security-Policy">
  <link href="lib/ratchet/css/ratchet.min.css" rel="stylesheet" type="text/css">
  <link href="lib/ratchet/css/ratchet-theme-android.min.css" rel="stylesheet" type="text/css">
  <link href="css/main.css" rel="stylesheet" type="text/css">

  <title>UnitedShare</title>
</head>

<body>

  <header class="bar bar-nav">
    <a class="icon icon-left-nav pull-left hidden" id="back"></a> 
    <a class="pull-right" href="#myPopover">
    <h1 class="title">
      <span class="icon icon-more-vertical"></span>
    </h1></a> 

    <!--<div class="image-wrapper">
    <img src ="img/uGive.png" class="scale-image" />
  </div>-->


    <h1 class="title">UnitedShare</h1>
  </header>

  <!--<div class="segmented-control">
  <a class="control-item active" href="#item1mobile">
    Food
  </a>
  <a class="control-item" href="#item2mobile">
    Hygiene
  </a>
  <a class="control-item" href="#item3mobile">
    Clothes
  </a>
  <a class="control-item" href="#item3mobile">
    Misc
  </a>
</div>-->


  <div id="content">
   
   <div id="locationError" class="hidden">
    <span class="icon icon-info"></span>
    <br />
    Please enable location services for UnitedShare.
   </div>

  <div id="mainView">
    <button class="btn btn-primary" id="newButton"><span class="icon icon-plus"></span></button>
    <div id="cardContainer"><br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <img src="img/spinner.gif" style="display:block;width:100px;margin: 0 auto;">
    </div>
  </div>

    <div id="cardView"></div>

    <div id="previewCard"></div>

    <form class="hidden" id="submissionForm" name="submissionForm">
      <select id="category">
        <option value="-1">Choose a Category...</option>
        <option value="0">Hygiene</option>
        <option value="1">Bedding</option>
        <option value="2">Food</option>
        <option value="3">Clothing</option>
        <option value="4">Misc.</option>
      </select> 
      <input id="firstName" placeholder="Who to look for (first name)" type="text"> 
      <input id="itemDescription" placeholder="Describe the item they need" type="text"> 
      <textarea id="locationDescription" placeholder="Describe the location of the person" rows="5"></textarea> 
      <textarea id="lookFor" placeholder="Give a short description of the person" rows="5"></textarea> <button class="btn btn-primary btn-block" id="submitNeed" type="button">Submit Need</button>
    </form>

<!--/////////
TEMPLATE STRUCTURES
//////////-->

    <!--card-->
    <script id="template-card" type="text/x-handlebars-template">
    ​
      <div class="card info-card" id="{{id}}" style="background-image:url('https://maps.googleapis.com/maps/api/staticmap?center={{latitude}},{{longitude}}&zoom=17&size=600x300&maptype=hybrid&markers=color:red%7C{{latitude}},{{longitude}}&key={{KEY}}');">
          <img class="card-category" src="img/{{category}}.png">
          <span class="distance">{{distance}}</span>
          <span class="time">{{time}} ago</span>
          <span class="name">{{name}}</span>
      </div>
    </script> 

    <!--card view-->
    <script id="template-card-view" type="text/x-handlebars-template">
    ​
      <div class="card section">
        <b>Item:</b>
        {{item}}
      </div>
      <div class="card section">
        <b>Location Description:</b>
        {{locationDescription}}
      </div>
      <div class="card section">
        <b>Look For:</b>
        {{lookFor}}
      </div>
      <button id="haveHelpedButton" class="btn btn-primary btn-block">
        <span class="icon icon-check"></span>
        I have helped {{name}}
      </button>
    </script> 

    <!--preview-->
    <script id="template-preview" type="text/x-handlebars-template">
    ​
      <div class="card info-card" id="{{id}}" style="background-image:url('https://maps.googleapis.com/maps/api/staticmap?center={{latitude}},{{longitude}}&zoom=17&size=600x300&maptype=hybrid&markers=color:red%7C{{latitude}},{{longitude}}&key={{KEY}}');">
          <img class="card-category" src="img/{{category}}.png">
          <span class="name">{{name}}</span>
      </div>
      <div class="card section">
        <b>Item Needed:</b>
        {{item}}
      </div>
      <div class="card section">
        <b>Description of Location:</b>
        {{locationDescription}}
      </div>
      <div class="card section">
        <b>Look For:</b>
        {{lookFor}}
      </div>
      <div class="buttonToolbar">
        <button id="backToSubmission" class="btn btn-danger">Cancel</button> 
        <button id="confirm" class="btn btn-primary">Confirm</button>
      </div>
    </script> 

<!--//////////
SCRIPT IMPORTS
///////////-->
    <script src="cordova.js" type="text/javascript"></script> 
    <script src="lib/ratchet/js/ratchet.min.js" type="text/javascript"></script> 
    <script src="lib/jquery/jquery-3.1.1.min.js" type="text/javascript"></script> 
    <script src="lib/handlebars/handlebars.js" type="text/javascript"></script> 

<!--/////////
COMPILING TEMPLATE STRUCTURES
//////////-->
    <script>
      var templateCard = Handlebars.compile($("#template-card").html());
      var templateCardView = Handlebars.compile($("#template-card-view").html());
      var templatePreview = Handlebars.compile($("#template-preview").html());
    </script> 

    <script src="js/app.js" type="text/javascript"></script> 

  </div>
</body>
</html>